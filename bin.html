---
layout: default
---
<script>

	function getQueryParams(qs) {
    qs = qs.split("+").join(" ");
    var params = {},
        tokens,
        re = /[?&]?([^=]+)=([^&]*)/g;

    while (tokens = re.exec(qs)) {
        params[decodeURIComponent(tokens[1])]
            = decodeURIComponent(tokens[2]);
    }

    return params;
	}

	var $_GET = getQueryParams(document.location.search); //has all the query string variables

  function swapImages(){

    var $active = $('#myGallery .active');
    var $next = ($('#myGallery .active').next().length > 0) ? $('#myGallery .active').next() : $('#myGallery img:first');
    $next.fadeIn(function(){
      $active.removeClass('active');
      $next.addClass('active');
      $active.fadeOut();
    })

  }

  $(document).ready(function(){

    var height		= $( window ).height(),
				width			= $( window ).width(),
				size			= width + ',' + height,
				link			= $_GET["link"],
				param			= $_GET["param"],
				start			= $_GET["start"],
				end				= $_GET["end"],
				title			= $_GET["title"],
				locations	=	[],
				suffix		= ":hoswidtt_url=https%3A%2F%2Fpublic.tableau.com%2F&:tabs=no&:toolbar=no&:animate_transition=yes&:display_static_image=no&:display_spinner=yes&:display_overlay=yes";


		//add title to page
		$("#title").append("<h1>"+title+"</h1>");

			for (i = start; i <= end; i++) {

				locations.push(link+"&:showVizHome=no&:toolbar=no&:format=png&:display_overlay=yes&"+param+"="+i);
			  // console.log("link: "+link+"?:showVizHome=no&:embed=yes&:toolbar=no&:format=png&"+param+"="+i );

			}


    var img = '';

    locations.forEach(function(element, index, array){

      if(index==0){
        img = '<img src="'+locations[index]+'" class="active first" />';
      } else {
        img = '<img src="'+locations[index]+'" />';
      }
      // console.log('index: '+index+' == '+img);

      $(img).appendTo("#myGallery");

    })


    // Change 3000 to whatever time interval you prefer
    setInterval('swapImages()', 2300);
  });
</script>
<style>
  #myGallery{
    position:relative;
		height: 600px;
  }
  #myGallery img{
    display:block;
    position:absolute;
    top:0;
    left:0;
  }
  #myGallery img.active{
    display:block;
  }
</style>
<div id="title"></div>
<div id="myGallery"></div>
